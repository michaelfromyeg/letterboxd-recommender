import{s as De,f as ue,n as fe,o as Pe,h as Te,r as qe}from"../chunks/scheduler.DVjnP_wp.js";import{S as xe,i as Ne,e as d,s as T,b as M,y as Le,c as m,g as p,h as q,d as C,f as B,z as K,o as i,p as P,k as a,j as G,A as Ue,B as Z,C as _e,D as J,E as Ve,F as Ae,l as le,G as Se}from"../chunks/index.mSr0B7jt.js";const je=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function se(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Fe=""+new URL("../assets/letterboxd.C5LzH3o-.svg",import.meta.url).href,{document:ve}=je;function ge(t,e,l){const s=t.slice();return s[17]=e[l],s}function be(t,e,l){const s=t.slice();return s[20]=e[l],s}function we(t){let e,l,s,n,f="I want movie recommendations for",g,v,y,c,r="based on their",b,u,A,w,U,x,R="Diary",I,h,o,k,_,N="Reviews",Q,L,z="in the genre of",W,V,O,he="Any genre",ne,X,H,ae,oe,re,de,Y=se(t[7]),S=[];for(let E=0;E<Y.length;E+=1)S[E]=ye(be(t,Y,E));return oe=Ue(t[12][0]),{c(){e=d("div"),l=d("form"),s=d("div"),n=d("span"),n.textContent=f,g=T(),v=d("input"),y=T(),c=d("span"),c.textContent=r,b=T(),u=d("div"),A=d("label"),w=d("input"),U=T(),x=d("span"),x.textContent=R,I=T(),h=d("label"),o=d("input"),k=T(),_=d("span"),_.textContent=N,Q=T(),L=d("span"),L.textContent=z,W=T(),V=d("select"),O=d("option"),O.textContent=he;for(let E=0;E<S.length;E+=1)S[E].c();ne=T(),X=d("div"),H=d("button"),ae=M("Go!"),this.h()},l(E){e=m(E,"DIV",{class:!0});var j=C(e);l=m(j,"FORM",{class:!0});var D=C(l);s=m(D,"DIV",{class:!0});var F=C(s);n=m(F,"SPAN",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1hp6vja"&&(n.textContent=f),g=q(F),v=m(F,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),y=q(F),c=m(F,"SPAN",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-19j1t6e"&&(c.textContent=r),b=q(F),u=m(F,"DIV",{class:!0});var $=C(u);A=m($,"LABEL",{class:!0});var ee=C(A);w=m(ee,"INPUT",{type:!0,class:!0,style:!0}),U=q(ee),x=m(ee,"SPAN",{"data-svelte-h":!0}),K(x)!=="svelte-1ioghqf"&&(x.textContent=R),ee.forEach(p),I=q($),h=m($,"LABEL",{class:!0});var te=C(h);o=m(te,"INPUT",{type:!0,class:!0,style:!0}),k=q(te),_=m(te,"SPAN",{"data-svelte-h":!0}),K(_)!=="svelte-1dywy6d"&&(_.textContent=N),te.forEach(p),$.forEach(p),Q=q(F),L=m(F,"SPAN",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-9l0nnq"&&(L.textContent=z),W=q(F),V=m(F,"SELECT",{class:!0,style:!0});var ce=C(V);O=m(ce,"OPTION",{class:!0,"data-svelte-h":!0}),K(O)!=="svelte-1lehjjt"&&(O.textContent=he);for(let ie=0;ie<S.length;ie+=1)S[ie].l(ce);ce.forEach(p),F.forEach(p),ne=q(D),X=m(D,"DIV",{class:!0});var me=C(X);H=m(me,"BUTTON",{type:!0,class:!0,style:!0});var pe=C(H);ae=B(pe,"Go!"),pe.forEach(p),me.forEach(p),D.forEach(p),j.forEach(p),this.h()},h(){i(n,"class","text-center"),i(v,"type","text"),i(v,"class","inline-input w-full max-w-xs svelte-5bq6wm"),v.required=!0,i(v,"placeholder","(some Letterboxd username)"),P(v,"--accent-color",t[6]),i(c,"class","text-center"),i(w,"type","radio"),w.__value="Diary",Z(w,w.__value),i(w,"class","custom-radio svelte-5bq6wm"),P(w,"--accent-color",t[6]),i(A,"class","flex items-center space-x-2"),i(o,"type","radio"),o.__value="Reviews",Z(o,o.__value),i(o,"class","custom-radio svelte-5bq6wm"),P(o,"--accent-color",t[6]),i(h,"class","flex items-center space-x-2"),i(u,"class","flex flex-row justify-center items-center space-x-6"),i(L,"class","text-center"),O.__value="",Z(O,O.__value),i(O,"class","svelte-5bq6wm"),i(V,"class","custom-select w-full max-w-xs svelte-5bq6wm"),P(V,"--accent-color",t[6]),t[1]===void 0&&Te(()=>t[14].call(V)),i(s,"class","text-lg sm:text-xl text-gray-300 leading-relaxed flex flex-col items-center space-y-4"),i(H,"type","submit"),i(H,"class","btn-primary w-full max-w-xs svelte-5bq6wm"),P(H,"--accent-color",t[6]),i(X,"class","flex justify-center"),i(l,"class","space-y-6 sm:space-y-8"),i(e,"class","w-full bg-[#1c2228] p-4 sm:p-8 rounded-lg shadow-lg"),oe.p(w,o)},m(E,j){G(E,e,j),a(e,l),a(l,s),a(s,n),a(s,g),a(s,v),Z(v,t[0]),a(s,y),a(s,c),a(s,b),a(s,u),a(u,A),a(A,w),w.checked=w.__value===t[2],a(A,U),a(A,x),a(u,I),a(u,h),a(h,o),o.checked=o.__value===t[2],a(h,k),a(h,_),a(s,Q),a(s,L),a(s,W),a(s,V),a(V,O);for(let D=0;D<S.length;D+=1)S[D]&&S[D].m(V,null);_e(V,t[1],!0),a(l,ne),a(l,X),a(X,H),a(H,ae),re||(de=[J(v,"input",t[10]),J(w,"change",t[11]),J(o,"change",t[13]),J(V,"change",t[14]),J(l,"submit",Ve(t[8]))],re=!0)},p(E,j){if(j&64&&P(v,"--accent-color",E[6]),j&1&&v.value!==E[0]&&Z(v,E[0]),j&64&&P(w,"--accent-color",E[6]),j&4&&(w.checked=w.__value===E[2]),j&64&&P(o,"--accent-color",E[6]),j&4&&(o.checked=o.__value===E[2]),j&128){Y=se(E[7]);let D;for(D=0;D<Y.length;D+=1){const F=be(E,Y,D);S[D]?S[D].p(F,j):(S[D]=ye(F),S[D].c(),S[D].m(V,null))}for(;D<S.length;D+=1)S[D].d(1);S.length=Y.length}j&64&&P(V,"--accent-color",E[6]),j&130&&_e(V,E[1]),j&64&&P(H,"--accent-color",E[6])},d(E){E&&p(e),Ae(S,E),oe.r(),re=!1,qe(de)}}}function ye(t){let e,l=t[20]+"",s;return{c(){e=d("option"),s=M(l),this.h()},l(n){e=m(n,"OPTION",{class:!0});var f=C(e);s=B(f,l),f.forEach(p),this.h()},h(){e.__value=t[20],Z(e,e.__value),i(e,"class","svelte-5bq6wm")},m(n,f){G(n,e,f),a(e,s)},p:fe,d(n){n&&p(e)}}}function Ee(t){let e,l;return{c(){e=d("div"),l=d("div"),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=C(e);l=m(n,"DIV",{class:!0,style:!0}),C(l).forEach(p),n.forEach(p),this.h()},h(){i(l,"class","loader svelte-5bq6wm"),P(l,"--accent-color",t[6]),i(e,"class","flex justify-center items-center h-48 sm:h-64")},m(s,n){G(s,e,n),a(e,l)},p(s,n){n&64&&P(l,"--accent-color",s[6])},d(s){s&&p(e)}}}function Ce(t){let e,l,s,n,f,g,v,y;return{c(){e=d("div"),l=d("p"),s=M(t[5]),n=T(),f=d("button"),g=M("Try Again"),this.h()},l(c){e=m(c,"DIV",{class:!0});var r=C(e);l=m(r,"P",{class:!0});var b=C(l);s=B(b,t[5]),b.forEach(p),n=q(r),f=m(r,"BUTTON",{class:!0,style:!0});var u=C(f);g=B(u,"Try Again"),u.forEach(p),r.forEach(p),this.h()},h(){i(l,"class","text-red-500 mb-4"),i(f,"class","btn-secondary svelte-5bq6wm"),P(f,"--accent-color",t[6]),i(e,"class","max-w-md mx-auto bg-[#1c2228] p-6 sm:p-8 rounded-lg shadow-lg text-center")},m(c,r){G(c,e,r),a(e,l),a(l,s),a(e,n),a(e,f),a(f,g),v||(y=J(f,"click",t[9]),v=!0)},p(c,r){r&32&&le(s,c[5]),r&64&&P(f,"--accent-color",c[6])},d(c){c&&p(e),v=!1,y()}}}function Ie(t){let e,l,s,n,f,g,v,y=se(t[3]),c=[];for(let r=0;r<y.length;r+=1)c[r]=ke(ge(t,y,r));return{c(){e=d("div");for(let r=0;r<c.length;r+=1)c[r].c();l=T(),s=d("div"),n=d("button"),f=M("Go again"),this.h()},l(r){e=m(r,"DIV",{class:!0});var b=C(e);for(let w=0;w<c.length;w+=1)c[w].l(b);b.forEach(p),l=q(r),s=m(r,"DIV",{class:!0});var u=C(s);n=m(u,"BUTTON",{class:!0,style:!0});var A=C(n);f=B(A,"Go again"),A.forEach(p),u.forEach(p),this.h()},h(){i(e,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 sm:gap-6 mt-8 sm:mt-12"),i(n,"class","btn-primary svelte-5bq6wm"),P(n,"--accent-color",t[6]),i(s,"class","text-center mt-8 sm:mt-12")},m(r,b){G(r,e,b);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(e,null);G(r,l,b),G(r,s,b),a(s,n),a(n,f),g||(v=J(n,"click",t[9]),g=!0)},p(r,b){if(b&72){y=se(r[3]);let u;for(u=0;u<y.length;u+=1){const A=ge(r,y,u);c[u]?c[u].p(A,b):(c[u]=ke(A),c[u].c(),c[u].m(e,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=y.length}b&64&&P(n,"--accent-color",r[6])},d(r){r&&(p(e),p(l),p(s)),Ae(c,r),g=!1,v()}}}function ke(t){let e,l,s,n,f,g,v,y=t[17].name+"",c,r,b=t[17].year+"",u,A,w,U,x=t[17].reason+"",R,I;return{c(){e=d("div"),l=d("img"),f=T(),g=d("div"),v=d("h3"),c=M(y),r=M(" ("),u=M(b),A=M(")"),w=T(),U=d("p"),R=M(x),I=T(),this.h()},l(h){e=m(h,"DIV",{class:!0,style:!0});var o=C(e);l=m(o,"IMG",{src:!0,alt:!0,class:!0}),f=q(o),g=m(o,"DIV",{class:!0});var k=C(g);v=m(k,"H3",{class:!0});var _=C(v);c=B(_,y),r=B(_," ("),u=B(_,b),A=B(_,")"),_.forEach(p),w=q(k),U=m(k,"P",{class:!0});var N=C(U);R=B(N,x),N.forEach(p),k.forEach(p),I=q(o),o.forEach(p),this.h()},h(){ue(l.src,s=t[17].tmdbPosterUrl)||i(l,"src",s),i(l,"alt",n=t[17].name),i(l,"class","w-full h-auto rounded-t-lg"),i(v,"class","text-base sm:text-lg font-semibold mb-2 group-hover:text-[var(--accent-color)] transition-colors"),i(U,"class","text-xs sm:text-sm text-gray-400"),i(g,"class","p-4 bg-[#1c2228] rounded-b-lg"),i(e,"class","movie-card group svelte-5bq6wm"),P(e,"--accent-color",t[6])},m(h,o){G(h,e,o),a(e,l),a(e,f),a(e,g),a(g,v),a(v,c),a(v,r),a(v,u),a(v,A),a(g,w),a(g,U),a(U,R),a(e,I)},p(h,o){o&8&&!ue(l.src,s=h[17].tmdbPosterUrl)&&i(l,"src",s),o&8&&n!==(n=h[17].name)&&i(l,"alt",n),o&8&&y!==(y=h[17].name+"")&&le(c,y),o&8&&b!==(b=h[17].year+"")&&le(u,b),o&8&&x!==(x=h[17].reason+"")&&le(R,x),o&64&&P(e,"--accent-color",h[6])},d(h){h&&p(e)}}}function Re(t){let e,l,s,n,f,g,v,y,c,r,b,u,A="Recommender",w,U,x,R,I=!t[3].length&&!t[4]&&!t[5]&&we(t),h=t[4]&&!t[5]&&Ee(t),o=t[5]&&Ce(t),k=t[3].length&&Ie(t);return{c(){e=d("link"),l=T(),s=d("main"),n=d("div"),f=d("div"),g=d("img"),y=T(),c=d("h1"),r=d("span"),b=M("Letterboxd"),u=d("span"),u.textContent=A,w=T(),I&&I.c(),U=T(),h&&h.c(),x=T(),o&&o.c(),R=T(),k&&k.c(),this.h()},l(_){const N=Le("svelte-pxunqc",ve.head);e=m(N,"LINK",{href:!0,rel:!0}),N.forEach(p),l=q(_),s=m(_,"MAIN",{class:!0});var Q=C(s);n=m(Q,"DIV",{class:!0});var L=C(n);f=m(L,"DIV",{class:!0});var z=C(f);g=m(z,"IMG",{src:!0,alt:!0,class:!0,style:!0}),y=q(z),c=m(z,"H1",{class:!0});var W=C(c);r=m(W,"SPAN",{style:!0,class:!0});var V=C(r);b=B(V,"Letterboxd"),V.forEach(p),u=m(W,"SPAN",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-1bl0mha"&&(u.textContent=A),W.forEach(p),z.forEach(p),w=q(L),I&&I.l(L),U=q(L),h&&h.l(L),x=q(L),o&&o.l(L),R=q(L),k&&k.l(L),L.forEach(p),Q.forEach(p),this.h()},h(){i(e,"href","https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"),i(e,"rel","stylesheet"),ue(g.src,v=Fe)||i(g,"src",v),i(g,"alt","Letterboxd Logo"),i(g,"class","w-12 h-12 mb-4"),P(g,"filter","drop-shadow(0 0 0.75rem "+t[6]+")"),P(r,"color",t[6]),i(r,"class","block xs:inline"),i(u,"class","block xs:inline"),i(c,"class","text-2xl sm:text-3xl md:text-4xl font-bold text-center"),i(f,"class","flex flex-col items-center mb-8"),i(n,"class","w-full max-w-4xl px-4 py-4 sm:py-12"),i(s,"class","min-h-screen bg-[#14181c] text-white font-inter flex justify-center items-start pt-0 sm:pt-0")},m(_,N){a(ve.head,e),G(_,l,N),G(_,s,N),a(s,n),a(n,f),a(f,g),a(f,y),a(f,c),a(c,r),a(r,b),a(c,u),a(n,w),I&&I.m(n,null),a(n,U),h&&h.m(n,null),a(n,x),o&&o.m(n,null),a(n,R),k&&k.m(n,null)},p(_,[N]){N&64&&P(g,"filter","drop-shadow(0 0 0.75rem "+_[6]+")"),N&64&&P(r,"color",_[6]),!_[3].length&&!_[4]&&!_[5]?I?I.p(_,N):(I=we(_),I.c(),I.m(n,U)):I&&(I.d(1),I=null),_[4]&&!_[5]?h?h.p(_,N):(h=Ee(_),h.c(),h.m(n,x)):h&&(h.d(1),h=null),_[5]?o?o.p(_,N):(o=Ce(_),o.c(),o.m(n,R)):o&&(o.d(1),o=null),_[3].length?k?k.p(_,N):(k=Ie(_),k.c(),k.m(n,null)):k&&(k.d(1),k=null)},i:fe,o:fe,d(_){_&&(p(l),p(s)),p(e),I&&I.d(),h&&h.d(),o&&o.d(),k&&k.d()}}}function Me(t,e,l){let s="",n="",f="Diary",g=[],v=!1,y=null,c;const r=["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Science Fiction","Thriller","War","Western"],b=["#00E054","#40BCF4","#FF8000"];let u;u="https://v2ibpvirn2.execute-api.us-west-2.amazonaws.com/Prod";async function A(){l(4,v=!0),l(5,y=null);try{const o=await fetch(`${u}/recommend?username=${encodeURIComponent(s)}&genre=${encodeURIComponent(n)}&source=${encodeURIComponent(f)}`);if(!o.ok)throw new Error("Failed to fetch recommendations.");l(3,g=await o.json())}catch(o){o instanceof Error?l(5,y=o.message):l(5,y="An unknown error occurred")}finally{l(4,v=!1)}}function w(){l(3,g=[]),l(5,y=null)}Pe(()=>{document.body.classList.add("font-inter"),l(6,c=b[Math.floor(Math.random()*b.length)])});const U=[[]];function x(){s=this.value,l(0,s)}function R(){f=this.__value,l(2,f)}function I(){f=this.__value,l(2,f)}function h(){n=Se(this),l(1,n),l(7,r)}return[s,n,f,g,v,y,c,r,A,w,x,R,U,I,h]}class Ge extends xe{constructor(e){super(),Ne(this,e,Me,Re,De,{})}}export{Ge as component};
